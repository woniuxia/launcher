# å®‰å“å¿«é€Ÿå¯åŠ¨è½¯ä»¶è®¾è®¡æ–‡æ¡£

## 1. äº§å“æ¦‚è¿°

### 1.1 äº§å“åç§°
**å¿«å¯æ¡Œé¢ / QuickLaunch**

### 1.2 äº§å“å®šä½
ä¸€æ¬¾è½»é‡çº§ã€é«˜æ•ˆã€å¯è‡ªå®šä¹‰çš„å®‰å“å¿«é€Ÿå¯åŠ¨å™¨ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿè®¿é—®å¸¸ç”¨åº”ç”¨ï¼Œæå‡æ‰‹æœºä½¿ç”¨æ•ˆç‡ã€‚

### 1.3 æ ¸å¿ƒåŠŸèƒ½
- é¦–é¡µæ—¶é—´æ—¥æœŸå†œå†å±•ç¤º
- ç½‘æ ¼å¸ƒå±€å¸¸ç”¨åº”ç”¨å¿«æ·å¯åŠ¨
- **ä¸Šæ»‘è¿›å…¥å¸¸ç”¨åº”ç”¨é¡µ**ï¼ˆæ’é™¤é¦–é¡µåº”ç”¨ï¼ŒæŒ‰ä½¿ç”¨é¢‘ç‡æ’åºï¼‰
- **ç»§ç»­ä¸Šæ»‘è¿›å…¥å®Œæ•´åº”ç”¨åˆ—è¡¨**ï¼ˆå­—æ¯ç´¢å¼•ï¼‰
- **é¦–é¡µå³ä¾§å­—æ¯ç´¢å¼•**ï¼Œç‚¹å‡»è·³è½¬å…¨éƒ¨åº”ç”¨åˆ—è¡¨
- ä½¿ç”¨é¢‘ç‡æ™ºèƒ½æ’åºï¼ˆ30å¤©ç»Ÿè®¡ï¼‰
- åº”ç”¨é»‘åå•ç®¡ç†
- ä¸°å¯Œçš„è‡ªå®šä¹‰è®¾ç½®

### 1.4 é¡µé¢ç»“æ„ä¸å¯¼èˆª
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      ä¸Šæ»‘       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      ç»§ç»­ä¸Šæ»‘      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¦–é¡µ   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚  å¸¸ç”¨åº”ç”¨é¡µ      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ å…¨éƒ¨åº”ç”¨åˆ—è¡¨ â”‚
â”‚  (Home) â”‚                 â”‚ (Frequent Apps) â”‚                  â”‚ (All Apps)   â”‚
â”‚         â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚
â”‚ å³ä¾§å­—æ¯â”‚    ä¸‹æ»‘è¿”å›      â”‚ æ’é™¤é¦–é¡µåº”ç”¨     â”‚    ä¸‹æ»‘è¿”å›       â”‚ æ‚¬æµ®æœç´¢æŒ‰é’® â”‚
â”‚ ç´¢å¼•    â”‚                 â”‚ 30å¤©é¢‘ç‡æ’åº     â”‚                  â”‚ å³ä¾§å­—æ¯ç´¢å¼• â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                                                  â†‘
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç‚¹å‡»å­—æ¯ç´¢å¼•ç›´æ¥è·³è½¬ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.5 ç›®æ ‡ç”¨æˆ·
- è¿½æ±‚æ•ˆç‡çš„å®‰å“ç”¨æˆ·
- åº”ç”¨æ•°é‡è¾ƒå¤šçš„ç”¨æˆ·
- å–œæ¬¢ç®€æ´æ¡Œé¢çš„ç”¨æˆ·

---

## 2. ç•Œé¢è®¾è®¡

### 2.1 é¦–é¡µ (Home)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çŠ¶æ€æ  (ç³»ç»Ÿ)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”â”‚
â”‚  â”‚      æ—¶é—´æ—¥æœŸåŒºåŸŸ              â”‚  â”‚ A â”‚â”‚
â”‚  â”‚    10:10                      â”‚  â”‚ B â”‚â”‚
â”‚  â”‚    å‘¨æ—¥ 01 2æœˆ                â”‚  â”‚ C â”‚â”‚
â”‚  â”‚    å†œå†è…Šæœˆå»¿ä¸‰                â”‚  â”‚ D â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ E â”‚â”‚
â”‚                                     â”‚ F â”‚â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚...â”‚â”‚
â”‚  â”‚    å¸¸ç”¨åº”ç”¨ç½‘æ ¼åŒºåŸŸ            â”‚  â”‚ Z â”‚â”‚
â”‚  â”‚    (å¯è‡ªå®šä¹‰è¡Œåˆ—æ•°)            â”‚  â”‚ # â”‚â”‚
â”‚  â”‚  [å›¾æ ‡] [å›¾æ ‡] [å›¾æ ‡] [å›¾æ ‡]   â”‚  â””â”€â”€â”€â”˜â”‚
â”‚  â”‚  [å›¾æ ‡] [å›¾æ ‡] [å›¾æ ‡] [å›¾æ ‡]   â”‚       â”‚
â”‚  â”‚  [å›¾æ ‡] [å›¾æ ‡] [å›¾æ ‡] [å›¾æ ‡]   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ—¶é—´æ—¥æœŸåŒºåŸŸ
| å…ƒç´  | æ ·å¼ |
|------|------|
| æ—¶é—´ | 72px, å­—é‡ 300, #FFFFFF |
| æ—¥æœŸ | 18px, å­—é‡ 400, #FFFFFF/80% |
| å†œå† | 14px, å­—é‡ 400, #FFFFFF/60% |

#### åº”ç”¨ç½‘æ ¼åŒºåŸŸ
| å±æ€§ | é»˜è®¤å€¼ | å¯é…ç½®èŒƒå›´ |
|------|--------|-----------|
| åˆ—æ•° | 4 | 3-6 |
| è¡Œæ•° | 4 | 2-6 |
| å›¾æ ‡å¤§å° | 56px | 48-72px |
| å›¾æ ‡é—´è· | 16px | 8-32px |
| æ–‡å­—å¤§å° | 12px | 10-14px |
| å‚ç›´åç§» | 0px | -200~200px |

**å›¾æ ‡æ ·å¼**: åœ†è§’ 16px, é˜´å½± 0 2px 8px rgba(0,0,0,0.15), ç‚¹å‡»ç¼©æ”¾ 0.95

#### å³ä¾§å­—æ¯ç´¢å¼•æ 
| å±æ€§ | å€¼ |
|------|-----|
| å®½åº¦ | 28px |
| å­—ç¬¦ | A-Z, # |
| å­—ä½“å¤§å° | 10px |
| ç‚¹å‡»è¡Œä¸º | è·³è½¬åˆ°å…¨éƒ¨åº”ç”¨åˆ—è¡¨å¯¹åº”å­—æ¯ä½ç½® |
| åé¦ˆ | éœ‡åŠ¨ + å­—æ¯æ”¾å¤§æç¤º |

### 2.2 å¸¸ç”¨åº”ç”¨é¡µ (Frequent Apps)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çŠ¶æ€æ  (ç³»ç»Ÿ)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          å¸¸ç”¨åº”ç”¨                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [å›¾æ ‡] å¾®ä¿¡                         â”‚
â”‚  [å›¾æ ‡] æŠ–éŸ³                         â”‚
â”‚  [å›¾æ ‡] æ”¯ä»˜å®                       â”‚
â”‚  [å›¾æ ‡] ...                         â”‚
â”‚                                     â”‚
â”‚     â†‘ ç»§ç»­ä¸Šæ»‘æŸ¥çœ‹å…¨éƒ¨åº”ç”¨           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| å±æ€§ | è¯´æ˜ |
|------|------|
| æ’åºæ–¹å¼ | æŒ‰30å¤©ä½¿ç”¨é¢‘ç‡å€’åº |
| æ’é™¤é¡¹ | é¦–é¡µå·²å±•ç¤ºçš„åº”ç”¨ |
| æ˜¾ç¤ºæ•°é‡ | å¯è‡ªå®šä¹‰ (é»˜è®¤ 20) |
| åˆ—è¡¨é¡¹ | å›¾æ ‡ 48dp + åç§° 16pxï¼Œé«˜åº¦ 64dp |

### 2.3 å®Œæ•´åº”ç”¨åˆ—è¡¨é¡µ (All Apps)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çŠ¶æ€æ  (ç³»ç»Ÿ)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          å…¨éƒ¨åº”ç”¨                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  A                              â”Œâ”€â”€â”€â”â”‚
â”‚  [å›¾æ ‡] çˆ±å¥‡è‰º                   â”‚ A â”‚â”‚
â”‚  [å›¾æ ‡] å®‰å…¨ä¸­å¿ƒ                 â”‚ B â”‚â”‚
â”‚  B                              â”‚ C â”‚â”‚
â”‚  [å›¾æ ‡] ç™¾åº¦åœ°å›¾                 â”‚...â”‚â”‚
â”‚  ...                            â”‚ # â”‚â”‚
â”‚  âš™ï¸ è®¾ç½®                        â””â”€â”€â”€â”˜â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚                    â”‚   ğŸ”    â”‚      â”‚ â† æ‚¬æµ®æœç´¢æŒ‰é’®
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ‚¬æµ®æœç´¢æŒ‰é’®
| å±æ€§ | å€¼ |
|------|-----|
| å¤§å° | 56dp x 56dp (åœ†å½¢) |
| ä½ç½® | å³ä¸‹è§’ï¼Œè¾¹è· 16dp/80dp |
| èƒŒæ™¯ | ä¸»è‰²è°ƒ #007AFF |
| é˜´å½± | 0 4px 12px rgba(0,0,0,0.3) |
| åŠ¨ç”» | ç‚¹å‡»å±•å¼€ä¸ºæœç´¢æ¡†ï¼Œ300ms ease-out |

---

## 3. åŠŸèƒ½æ¨¡å—è®¾è®¡

### 3.1 åº”ç”¨æ•°æ®ç»“æ„
```kotlin
data class AppInfo(
    // åŸºæœ¬ä¿¡æ¯
    val packageName: String,          // åŒ…å (å”¯ä¸€æ ‡è¯†)
    val appName: String,              // åº”ç”¨åç§°
    val appIcon: String,              // å›¾æ ‡è·¯å¾„/Base64

    // ä½¿ç”¨ç»Ÿè®¡ (ä»æ•°æ®åº“è®¡ç®—)
    val launchCount30d: Int,          // è¿‘30å¤©å¯åŠ¨æ¬¡æ•°
    val lastLaunchTime: Long,         // æœ€åå¯åŠ¨æ—¶é—´æˆ³

    // åˆ†ç±»ä¿¡æ¯
    val category: AppCategory,        // åº”ç”¨åˆ†ç±»
    val firstLetter: String,          // é¦–å­—æ¯ (A-Z, #)

    // çŠ¶æ€
    val isSystemApp: Boolean,         // æ˜¯å¦ç³»ç»Ÿåº”ç”¨
    val isEnabled: Boolean,           // æ˜¯å¦å¯ç”¨
    val isHidden: Boolean,            // æ˜¯å¦åœ¨åˆ—è¡¨ä¸­éšè—

    // è‡ªå®šä¹‰
    val customIcon: String? = null,   // è‡ªå®šä¹‰å›¾æ ‡
    val customName: String? = null,   // è‡ªå®šä¹‰åç§°
    val homePosition: Int = -1        // é¦–é¡µä½ç½® (-1 è¡¨ç¤ºä¸åœ¨é¦–é¡µ)
)

enum class AppCategory {
    SOCIAL, ENTERTAINMENT, PRODUCTIVITY, SYSTEM,
    TOOL, GAME, FINANCE, SHOPPING, OTHER
}
```

### 3.2 30å¤©ä½¿ç”¨é¢‘ç‡æ’åºç®—æ³•
```kotlin
/**
 * è®¡ç®—åº”ç”¨çš„30å¤©ç»¼åˆè¯„åˆ†
 *
 * è¯„åˆ†å…¬å¼: æ€»æ¬¡æ•°æƒé‡(50%) + æ—¶é—´è¡°å‡æƒé‡(30%) + è¿‘æœŸæ´»è·ƒæƒé‡(20%)
 * - æ€»æ¬¡æ•°æƒé‡: è¿‘30å¤©å¯åŠ¨æ€»æ¬¡æ•°
 * - æ—¶é—´è¡°å‡æƒé‡: æœ€è¿‘ä½¿ç”¨çš„åº”ç”¨å¾—åˆ†æ›´é«˜ï¼Œ7å¤©åŠè¡°æœŸ
 * - è¿‘æœŸæ´»è·ƒæƒé‡: è¿‘7å¤©å¯åŠ¨æ¬¡æ•°ï¼Œåæ˜ è¿‘æœŸä½¿ç”¨è¶‹åŠ¿
 */
fun calculate30DayScore(app: AppInfo, statsDao: DailyStatsDao): Float {
    val daysSinceLastLaunch = (System.currentTimeMillis() - app.lastLaunchTime) / DAY_MS

    // è¿‘30å¤©å¯åŠ¨æ¬¡æ•°
    val count30d = statsDao.getRecentDaysCount(app.packageName, 30)

    // æ—¶é—´è¡°å‡å› å­: e^(-days/7)ï¼Œ7å¤©åŠè¡°æœŸ
    val timeDecayScore = exp(-daysSinceLastLaunch / 7.0).toFloat() * 100

    // è¿‘7å¤©å¯åŠ¨æ¬¡æ•°
    val count7d = statsDao.getRecentDaysCount(app.packageName, 7)

    // ç»¼åˆè¯„åˆ†
    return count30d * 0.5f + timeDecayScore * 0.3f + count7d * 0.2f
}

/**
 * è·å–å¸¸ç”¨åº”ç”¨é¡µæ•°æ®ï¼ˆæ’é™¤é¦–é¡µåº”ç”¨ï¼‰
 */
suspend fun getFrequentApps(
    excludeHomeApps: Boolean = true,
    limit: Int = 20
): List<AppInfo> {
    var apps = appDao.getAllApps().filter { !it.isHidden }

    if (excludeHomeApps) {
        val homePackages = appDao.getHomeAppPackages()
        apps = apps.filter { it.packageName !in homePackages }
    }

    return apps
        .sortedByDescending { calculate30DayScore(it, statsDao) }
        .take(limit)
}
```

### 3.3 åº”ç”¨å¯åŠ¨è¿½è¸ª
```kotlin
/**
 * è®°å½•åº”ç”¨å¯åŠ¨å¹¶æ›´æ–°ç»Ÿè®¡æ•°æ®
 */
suspend fun recordAppLaunch(packageName: String) {
    val today = LocalDate.now().toString()

    // æ›´æ–°æˆ–æ’å…¥ä»Šæ—¥ç»Ÿè®¡
    statsDao.upsertDailyStat(
        DailyStat(packageName = packageName, date = today, launchCount = 1)
    )

    // æ›´æ–°åº”ç”¨æœ€åå¯åŠ¨æ—¶é—´
    appDao.updateLastLaunchTime(packageName, System.currentTimeMillis())

    // æ¸…ç†30å¤©å‰çš„è¿‡æœŸæ•°æ®
    val cutoffDate = LocalDate.now().minusDays(30).toString()
    statsDao.deleteOldStats(cutoffDate)
}
```

### 3.4 é»‘åå•æ¨¡å—
```kotlin
data class BlacklistConfig(
    val packageNames: Set<String>,    // é»‘åå•åŒ…ååˆ—è¡¨
    val hideSystemApps: Boolean,      // æ˜¯å¦éšè—æ‰€æœ‰ç³»ç»Ÿåº”ç”¨
    val hiddenCategories: Set<AppCategory> // éšè—çš„åº”ç”¨åˆ†ç±»
)

class BlacklistManager(private val appDao: AppDao) {
    suspend fun addToBlacklist(packageName: String)
    suspend fun removeFromBlacklist(packageName: String)
    fun isBlacklisted(packageName: String): Boolean
    suspend fun getFilteredApps(): List<AppInfo>
}
```

### 3.5 æœç´¢æ¨¡å—
```kotlin
/**
 * æœç´¢åº”ç”¨ï¼ˆæ”¯æŒåç§°ã€æ‹¼éŸ³ã€åŒ…åï¼‰
 * ç»“æœæŒ‰30å¤©ä½¿ç”¨é¢‘ç‡æ’åº
 */
fun searchApps(query: String, allApps: List<AppInfo>): List<AppInfo> {
    val lowerQuery = query.lowercase()

    return allApps
        .filter { app ->
            val name = (app.customName ?: app.appName).lowercase()
            val pinyin = getPinyin(name)

            name.contains(lowerQuery) ||
            pinyin.contains(lowerQuery) ||
            app.packageName.lowercase().contains(lowerQuery)
        }
        .sortedByDescending { it.launchCount30d }
}
```

### 3.6 å­—æ¯ç´¢å¼•æ¨¡å—
```kotlin
class AlphabetIndex(private val appDao: AppDao) {
    /**
     * è·å–æŒ‰å­—æ¯åˆ†ç»„çš„åº”ç”¨åˆ—è¡¨
     * æ¯ç»„å†…æŒ‰30å¤©é¢‘ç‡æ’åº
     */
    fun getGroupedApps(apps: List<AppInfo>): Map<String, List<AppInfo>> {
        return apps
            .groupBy { it.firstLetter }
            .mapValues { (_, group) ->
                group.sortedByDescending { calculate30DayScore(it, statsDao) }
            }
            .toSortedMap()
    }

    fun scrollToLetter(letter: String)
}
```

---

## 4. è®¾ç½®æ¨¡å—è®¾è®¡

### 4.1 è®¾ç½®å…¥å£
ä½äºå…¨éƒ¨åº”ç”¨åˆ—è¡¨æœ€åº•éƒ¨ï¼Œé½¿è½®å›¾æ ‡ + "è®¾ç½®"

### 4.2 è®¾ç½®é¡¹

#### å¸ƒå±€è®¾ç½®
| è®¾ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | èŒƒå›´ |
|--------|------|--------|------|
| ç½‘æ ¼åˆ—æ•° | æ»‘å— | 4 | 3-6 |
| ç½‘æ ¼è¡Œæ•° | æ»‘å— | 4 | 2-6 |
| å›¾æ ‡å¤§å° | æ»‘å— | 56px | 48-72px |
| å›¾æ ‡é—´è· | æ»‘å— | 16px | 8-32px |
| å‚ç›´åç§» | æ»‘å— | 0px | -200~200px |
| é¦–é¡µæ˜¾ç¤ºæ•°é‡ | æ»‘å— | 16 | 6-36 |
| å¸¸ç”¨é¡µæ˜¾ç¤ºæ•°é‡ | æ»‘å— | 20 | 10-50 |

#### å¤–è§‚è®¾ç½®
| è®¾ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ |
|--------|------|--------|
| ä¸»é¢˜æ¨¡å¼ | é€‰æ‹© | è·Ÿéšç³»ç»Ÿ |
| èƒŒæ™¯æ ·å¼ | é€‰æ‹© | æ¨¡ç³Š |
| æ¨¡ç³Šå¼ºåº¦ | æ»‘å— | 20 |
| å›¾æ ‡åœ†è§’ | æ»‘å— | 16px |
| å›¾æ ‡é˜´å½± | å¼€å…³ | å¼€ |

#### æ—¶é—´æ—¥æœŸè®¾ç½®
| è®¾ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ |
|--------|------|--------|
| æ˜¾ç¤ºæ—¶é—´/ç§’æ•°/æ—¥æœŸ/å†œå† | å¼€å…³ | å¼€/å…³/å¼€/å¼€ |
| æ—¶é—´æ ¼å¼ | é€‰æ‹© | 24å°æ—¶åˆ¶ |

#### åº”ç”¨ç®¡ç†è®¾ç½®
| è®¾ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ |
|--------|------|--------|
| é¦–é¡µæ’åºæ–¹å¼ | é€‰æ‹© | ä½¿ç”¨é¢‘ç‡ |
| å¸¸ç”¨é¡µæ’åºæ–¹å¼ | é€‰æ‹© | ä½¿ç”¨é¢‘ç‡ |
| éšè—ç³»ç»Ÿåº”ç”¨ | å¼€å…³ | å…³ |
| åº”ç”¨é»‘åå• | é¡µé¢è·³è½¬ | - |

#### æœç´¢è®¾ç½®
| è®¾ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ |
|--------|------|--------|
| å¯ç”¨æœç´¢/æ‹¼éŸ³æœç´¢/T9æœç´¢ | å¼€å…³ | å¼€/å¼€/å…³ |
| æ˜¾ç¤ºæœç´¢å†å² | å¼€å…³ | å¼€ |

#### æ‰‹åŠ¿è®¾ç½®
| è®¾ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ |
|--------|------|--------|
| ä¸Šæ»‘çµæ•åº¦ | æ»‘å— | ä¸­ç­‰ |
| éœ‡åŠ¨åé¦ˆ | å¼€å…³ | å¼€ |

#### é«˜çº§è®¾ç½®
è®¾ä¸ºé»˜è®¤æ¡Œé¢ | å¤‡ä»½/æ¢å¤è®¾ç½® | æ¸…é™¤ç¼“å­˜ | ç‰ˆæœ¬ä¿¡æ¯

### 4.3 è®¾ç½®æ•°æ®ç»“æ„
```kotlin
data class AppSettings(
    val layout: LayoutSettings,
    val appearance: AppearanceSettings,
    val clock: ClockSettings,
    val appManagement: AppManagementSettings,
    val search: SearchSettings,
    val gesture: GestureSettings
)

data class LayoutSettings(
    val columns: Int = 4,
    val rows: Int = 4,
    val iconSize: Int = 56,
    val iconSpacing: Int = 16,
    val verticalOffset: Int = 0,
    val homeDisplayCount: Int = 16,
    val frequentDisplayCount: Int = 20
)

data class AppearanceSettings(
    val theme: Theme = Theme.SYSTEM,
    val backgroundType: BackgroundType = BackgroundType.BLUR,
    val backgroundColor: String = "#FFFFFF",
    val backgroundImage: String? = null,
    val blurStrength: Int = 20,
    val iconRadius: Int = 16,
    val showShadow: Boolean = true,
    val textColor: String = "#FFFFFF"
)

enum class Theme { LIGHT, DARK, SYSTEM }
enum class BackgroundType { SOLID, BLUR, IMAGE }
```

---

## 5. æ•°æ®å­˜å‚¨è®¾è®¡

### 5.1 å­˜å‚¨æ–¹æ¡ˆ
| æ•°æ®ç±»å‹ | å­˜å‚¨æ–¹å¼ |
|----------|----------|
| åº”ç”¨ä¿¡æ¯ | SQLite (Room) |
| è®¾ç½®é¡¹ | SharedPreferences |
| å›¾æ ‡/èƒŒæ™¯ç¼“å­˜ | æ–‡ä»¶ç³»ç»Ÿ |

### 5.2 æ•°æ®åº“è®¾è®¡
```sql
-- åº”ç”¨ä¿¡æ¯è¡¨
CREATE TABLE apps (
    package_name TEXT PRIMARY KEY,
    app_name TEXT NOT NULL,
    app_icon TEXT,
    last_launch_time INTEGER DEFAULT 0,
    category TEXT DEFAULT 'OTHER',
    first_letter TEXT DEFAULT '#',
    is_system_app INTEGER DEFAULT 0,
    is_enabled INTEGER DEFAULT 1,
    is_hidden INTEGER DEFAULT 0,
    custom_icon TEXT,
    custom_name TEXT,
    home_position INTEGER DEFAULT -1,
    created_at INTEGER DEFAULT 0,
    updated_at INTEGER DEFAULT 0
);

-- æ¯æ—¥ä½¿ç”¨ç»Ÿè®¡è¡¨ (ä¿ç•™30å¤©)
CREATE TABLE daily_stats (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    package_name TEXT NOT NULL,
    date TEXT NOT NULL,              -- æ ¼å¼: YYYY-MM-DD
    launch_count INTEGER DEFAULT 0,
    created_at INTEGER DEFAULT (strftime('%s', 'now')),
    FOREIGN KEY (package_name) REFERENCES apps(package_name) ON DELETE CASCADE,
    UNIQUE(package_name, date)
);

-- é»‘åå•è¡¨
CREATE TABLE blacklist (
    package_name TEXT PRIMARY KEY,
    added_at INTEGER DEFAULT (strftime('%s', 'now')),
    FOREIGN KEY (package_name) REFERENCES apps(package_name) ON DELETE CASCADE
);

-- ç´¢å¼•
CREATE INDEX idx_apps_last_launch ON apps(last_launch_time DESC);
CREATE INDEX idx_apps_home_position ON apps(home_position);
CREATE INDEX idx_apps_first_letter ON apps(first_letter);
CREATE INDEX idx_daily_stats_date ON daily_stats(date);
CREATE INDEX idx_daily_stats_package ON daily_stats(package_name);
```

### 5.3 æ•°æ®æ¸…ç†ç­–ç•¥
```kotlin
/**
 * å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®
 * å»ºè®®åœ¨åº”ç”¨å¯åŠ¨æ—¶æˆ–æ¯æ—¥é¦–æ¬¡ä½¿ç”¨æ—¶æ‰§è¡Œ
 */
suspend fun cleanupExpiredData() {
    val cutoffDate = LocalDate.now().minusDays(30).toString()
    statsDao.deleteOldStats(cutoffDate)
}
```

---

## 6. äº¤äº’è®¾è®¡

### 6.1 æ‰‹åŠ¿æ“ä½œ
| æ‰‹åŠ¿ | åŠŸèƒ½ | è§¦å‘åŒºåŸŸ |
|------|------|----------|
| ä¸Šæ»‘ | æ‰“å¼€å¸¸ç”¨åº”ç”¨é¡µ | é¦–é¡µä»»æ„åŒºåŸŸ |
| ç»§ç»­ä¸Šæ»‘ | æ‰“å¼€å…¨éƒ¨åº”ç”¨åˆ—è¡¨ | å¸¸ç”¨åº”ç”¨é¡µ |
| ä¸‹æ»‘ | è¿”å›ä¸Šä¸€é¡µ/é¦–é¡µ | å¸¸ç”¨åº”ç”¨é¡µ/å…¨éƒ¨åº”ç”¨åˆ—è¡¨ |
| é•¿æŒ‰å›¾æ ‡ | ç¼–è¾‘æ¨¡å¼ | åº”ç”¨å›¾æ ‡ |
| åŒå‡»ç©ºç™½ | é”å®š/è§£é”å¸ƒå±€ | é¦–é¡µç©ºç™½å¤„ |

### 6.2 é¡µé¢åˆ‡æ¢åŠ¨ç”»
| åœºæ™¯ | åŠ¨ç”» | æ—¶é•¿ |
|------|------|------|
| ä¸Šæ»‘è¿›å…¥ | ä¸Šæ»‘è¦†ç›– | 300ms ease-out |
| ä¸‹æ»‘è¿”å› | ä¸‹æ»‘é€€å‡º | 250ms ease-in |
| ç‚¹å‡»ç´¢å¼•è·³è½¬ | æ·¡å…¥ + ç¼©æ”¾ | 250ms ease-out |
| æœç´¢æŒ‰é’®å±•å¼€ | åœ†å½¢æ‰©å±• | 300ms ease-out |

### 6.3 éœ‡åŠ¨åé¦ˆ
| åœºæ™¯ | æ—¶é•¿ |
|------|------|
| ç‚¹å‡»å­—æ¯ç´¢å¼• | 10ms |
| åº”ç”¨å¯åŠ¨ | 5ms |
| é•¿æŒ‰è¿›å…¥ç¼–è¾‘ | 30ms |
| åˆ é™¤åº”ç”¨ | 50ms |

---

## 7. æŠ€æœ¯æ¶æ„

### 7.1 æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      è¡¨ç°å±‚ (UI Layer)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  é¦–é¡µç»„ä»¶   â”‚  â”‚  å¸¸ç”¨åº”ç”¨é¡µç»„ä»¶  â”‚  â”‚ å…¨éƒ¨åº”ç”¨åˆ—è¡¨â”‚  â”‚
â”‚  â”‚  +å­—æ¯ç´¢å¼•  â”‚  â”‚                 â”‚  â”‚ +æ‚¬æµ®æœç´¢   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      ä¸šåŠ¡é€»è¾‘å±‚ (ViewModel)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ åº”ç”¨ç®¡ç†å™¨  â”‚  â”‚ æœç´¢ç®¡ç†å™¨   â”‚  â”‚   è®¾ç½®ç®¡ç†å™¨     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      æ•°æ®è®¿é—®å±‚ (Repository + DAO)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   AppDao    â”‚  â”‚ DailyStatsDaoâ”‚  â”‚  BlacklistDao   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      ç³»ç»ŸæœåŠ¡å±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ PackageManagerâ”‚ â”‚ LauncherServiceâ”‚ â”‚  StorageService â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 æ ¸å¿ƒç±»è®¾è®¡
```kotlin
// ä¸» Activity
class QuickLaunchActivity : AppCompatActivity() {
    private val viewModel: LauncherViewModel by viewModels()
}

// ViewModel
class LauncherViewModel(
    private val appRepository: AppRepository,
    private val settingsManager: SettingsManager
) : ViewModel() {
    val homeApps: StateFlow<List<AppInfo>>
    val frequentApps: StateFlow<List<AppInfo>>
    val allApps: StateFlow<Map<String, List<AppInfo>>>
    val settings: StateFlow<AppSettings>

    fun launchApp(packageName: String)
    fun searchApps(query: String): List<AppInfo>
    fun updateSettings(settings: AppSettings)
}

// Repository
class AppRepository(
    private val appDao: AppDao,
    private val statsDao: DailyStatsDao
) {
    suspend fun loadHomeApps(): List<AppInfo>
    suspend fun loadFrequentApps(excludeHome: Boolean, limit: Int): List<AppInfo>
    suspend fun loadAllAppsGrouped(): Map<String, List<AppInfo>>
    suspend fun recordLaunch(packageName: String)
}
```

### 7.3 ä¾èµ–åº“
| åŠŸèƒ½ | åº“ | ç‰ˆæœ¬ |
|------|-----|------|
| UI æ¡†æ¶ | Jetpack Compose | 1.5.x |
| å¯¼èˆª | Jetpack Navigation | 2.7.x |
| æ•°æ®åº“ | Room | 2.6.x |
| åç¨‹ | Kotlin Coroutines | 1.7.x |
| å›¾ç‰‡åŠ è½½ | Coil | 2.5.x |
| ä¾èµ–æ³¨å…¥ | Hilt | 2.48.x |
| å†œå†è®¡ç®— | LunarCalendar | æœ€æ–° |
| æ‹¼éŸ³è½¬æ¢ | TinyPinyin | æœ€æ–° |

---

## 8. æƒé™éœ€æ±‚

| æƒé™ | ç”¨é€” | å¿…è¦æ€§ |
|------|------|--------|
| `QUERY_ALL_PACKAGES` | è·å–æ‰€æœ‰åº”ç”¨åˆ—è¡¨ | å¿…éœ€ |
| `VIBRATE` | éœ‡åŠ¨åé¦ˆ | å¯é€‰ |
| `READ_EXTERNAL_STORAGE` | è¯»å–è‡ªå®šä¹‰èƒŒæ™¯ | å¯é€‰ |
| `RECEIVE_BOOT_COMPLETED` | å¼€æœºè‡ªå¯ | å¯é€‰ |

---

## 9. æ€§èƒ½ä¼˜åŒ–

- **åŠ è½½ä¼˜åŒ–**: åº”ç”¨åˆ—è¡¨å¼‚æ­¥åŠ è½½ã€å›¾æ ‡æ‡’åŠ è½½ + LRU ç¼“å­˜ã€æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–
- **å†…å­˜ä¼˜åŒ–**: åŠæ—¶é‡Šæ”¾èµ„æºã€é¿å…å†…å­˜æ³„æ¼ã€é¡µé¢é€€å‡ºæ—¶æ¸…ç†
- **å“åº”ä¼˜åŒ–**: å¼‚æ­¥å¯åŠ¨åº”ç”¨ã€DiffUtil æ›´æ–°åˆ—è¡¨ã€é¢‘ç‡æ’åºç¼“å­˜

---

## 10. å›½é™…åŒ–

æ”¯æŒè¯­è¨€: ç®€ä½“ä¸­æ–‡ (é»˜è®¤) | ç¹ä½“ä¸­æ–‡ | English

```
res/
â”œâ”€â”€ values/           # é»˜è®¤ (è‹±æ–‡)
â”œâ”€â”€ values-zh/        # ç®€ä½“ä¸­æ–‡
â”œâ”€â”€ values-zh-rTW/    # ç¹ä½“ä¸­æ–‡
```

---

## 11. ç‰ˆæœ¬è§„åˆ’

### V1.0 (MVP)
- [x] é¦–é¡µæ—¶é—´æ—¥æœŸå†œå†æ˜¾ç¤º
- [x] ç½‘æ ¼å¸ƒå±€åº”ç”¨å±•ç¤º
- [x] é¦–é¡µå³ä¾§å­—æ¯ç´¢å¼•
- [x] å¸¸ç”¨åº”ç”¨é¡µï¼ˆæ’é™¤é¦–é¡µï¼Œ30å¤©é¢‘ç‡ï¼‰
- [x] ä¸Šæ»‘å¯¼èˆªæµç¨‹
- [x] å…¨éƒ¨åº”ç”¨åˆ—è¡¨æ‚¬æµ®æœç´¢æŒ‰é’®
- [x] å­—æ¯ç´¢å¼•å¿«é€Ÿå®šä½
- [x] é»‘åå•åŠŸèƒ½
- [x] åŸºç¡€è®¾ç½®

### V1.1
- [ ] æœç´¢åŠŸèƒ½å¢å¼º
- [ ] è‡ªå®šä¹‰ä¸»é¢˜
- [ ] å›¾æ ‡åŒ…æ”¯æŒ

### V1.2
- [ ] æ–‡ä»¶å¤¹åŠŸèƒ½
- [ ] å°éƒ¨ä»¶æ”¯æŒ
- [ ] å¤‡ä»½æ¢å¤ / äº‘ç«¯åŒæ­¥

---

## 12. é™„å½•

### é¢œè‰²è§„èŒƒ
| æ¨¡å¼ | ä¸»èƒŒæ™¯ | å¡ç‰‡èƒŒæ™¯ | ä¸»æ–‡å­— | æ¬¡è¦æ–‡å­— | å¼ºè°ƒè‰² |
|------|--------|----------|--------|----------|--------|
| æµ…è‰² | #F5F5F7 | #FFFFFF | #1C1C1E | #8E8E93 | #007AFF |
| æ·±è‰² | #000000 | #1C1C1E | #FFFFFF | #8E8E93 | #0A84FF |

### å°ºå¯¸è§„èŒƒ
- è®¾è®¡åŸºå‡†: 360dp x 640dp
- å›¾æ ‡: 48dp-72dp
- æ–‡å­—: 12sp-72sp
- é—´è·: 4dp, 8dp, 16dp, 24dp, 32dp

---

**æ–‡æ¡£ç‰ˆæœ¬**: 2.0
**æ›´æ–°æ—¥æœŸ**: 2026-02-01
**ä½œè€…**: AI Assistant
